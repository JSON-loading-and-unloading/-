<h1>JVM의 코드 실행</h1>

JVM이 제공하는 가장 중요한 서비스는 메모리 관리와 사용하기 쉬운 애플리케이션 코드 실행 컨테이너이다.</br>

JVM 인터프리터는 일종의 스택 머신처럼 작동하므로 물리적 CPU와는 달리 계산 결과를 바로 보관하는 레지스터는 없다. 대신 작업할 값은 모두 평가 스택에ㅔ 넣고 스택 머신 명령어로 스택 최상단에
위치한 값을 변환하는 식으로 작동한다.</br>

JVM은 다음 세 공간에ㅔ 주로 데이터를 담아 놓는다.</br>
- 평가 스택 : 메서드 별로 하나씩 생성된다.
- 로컬 변수 : 결과를 임시 저장한다.
- 객체 힙 : 메서드끼리, 스레드끼리 공유된다.

  JVM에서 각 스택 머신 작업 코드는 1바이트로 나타낸다.</br>
  따라서 옵코드는 0부터 255까지 지정 가능하며, 그중에서 약 200개를 사용하고 있다.(자바 10버전 기준)</br>

  바이트코드 명령어는 스택 상단에 위치한 두 값의 기본형을 구분할 수 있게 표기한다.</br>
  ex) iadd와 dadd는 각각 int 값과 double 값)</br>

  자바는 이식성을 염두에 두고 설계된 언어이다.</br>
  JVM은 빅 엔디언, 리틀 에네디언 하드웨어 아키텍처 모두 바이트코드 변경없이 실행 가능하도록 명세에 규정되어 있다.</br>
  따라서, JVM 바이트 코드는 둘 중 어느 엔디언을 따를지 결정해야한다.</br>


  단축어 명령어, 타입별 명령어를 쓰다보니 필요한 옵코드 개수가 급증했고 여러 옵코드가 개념상 동일한 작업을 나타내는 경우도 있다.</br>
  그래서 사실 바이트코드는 개념적으로는 아주 단순하지만, 바이트 코드로 나타낼 수 있는 기본 작업보다 훨씬 많은 옵코드가 할당되어 있다.</br>


  스택에 데이터를 넣고 빼는 옵코드로 구성된 로드/스토어 카테고리이다.</br>
  상수 풀에서 데이터를 로드하거나 스택 상단을 힙에 있는 객체 필드에 저장하는 등의 작업을 한다.</br>

![KakaoTalk_20230827_191536065_04](https://github.com/JSON-loading-and-unloading/Optimizing-Java/assets/106163272/2a3ffa70-532e-45c6-8738-a0f54578e305)</br>


산술 바이트코드이다. 기본형에만 적용되며 순수하게 스택 기반으로 연산을 수행하므로 인수는 없다.</br>


![KakaoTalk_20230827_191536065_03](https://github.com/JSON-loading-and-unloading/Optimizing-Java/assets/106163272/204d2d44-2d8b-4421-8dd2-3442967c5bf1)</br>


흐름제어 바이트 코드. 소스 코드의 순회, 분기문을 바이트 코드 수준으로 표현하는 옵코드들이다.</br>


![KakaoTalk_20230827_191536065_02](https://github.com/JSON-loading-and-unloading/Optimizing-Java/assets/106163272/cdb9aa5b-fcbe-46ec-9777-a8a50bc78d46)</br>


메서드 호출 바이트코드. 자바 프로그램에서 새 메서드롤 제어권을 넘기는 유일한 장치. 자바 플랫폼은 지역 흐름 제어와 다른 메서드로 제어권을 넘기는 행위를 분명히 구분함.</br>


![KakaoTalk_20230827_191536065_01](https://github.com/JSON-loading-and-unloading/Optimizing-Java/assets/106163272/30d9d4da-0108-4472-adb9-397337cdf4fc)</br>


플랫폼 옵코드. 객체별로 힙 저장 공간을 새로 할당하거나, 고유 락을 다루는 명령어</br>

![KakaoTalk_20230827_191536065](https://github.com/JSON-loading-and-unloading/Optimizing-Java/assets/106163272/d39c347e-19bb-4fee-a092-f8ec4845a6d1)</br>
